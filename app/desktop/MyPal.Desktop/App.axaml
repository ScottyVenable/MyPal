<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="clr-namespace:MyPal.Desktop.Converters"
             xmlns:semi="https://irihi.tech/semi"
             xmlns:ursa="https://irihi.tech/ursa"
             xmlns:usemi="https://irihi.tech/ursa/themes/semi"
             x:Class="MyPal.Desktop.App"
             xmlns:local="using:MyPal.Desktop"
             RequestedThemeVariant="Dark">

    <Application.DataTemplates>
        <local:ViewLocator/>
    </Application.DataTemplates>

    <Application.Resources>
        <ResourceDictionary>
            <!-- Core palette -->
            <Color x:Key="Color.Background.Deep">#0a0e27</Color>
            <Color x:Key="Color.Background.Primary">#12162e</Color>
            <Color x:Key="Color.Background.Secondary">#1a1f3a</Color>
            <Color x:Key="Color.Background.Overlay">#2212162e</Color>
            <Color x:Key="Color.Background.Card">#661e2139</Color>
            <Color x:Key="Color.Background.Input">#331b2035</Color>
            <Color x:Key="Color.Border.Card">#CC2e3451</Color>
            <Color x:Key="Color.Border.Highlight">#667b68ee</Color>
            <Color x:Key="Color.Border.Subtle">#332e3451</Color>
            <Color x:Key="Color.Accent.Purple">#7b68ee</Color>
            <Color x:Key="Color.Accent.Cyan">#00d4ff</Color>
            <Color x:Key="Color.Accent.Pink">#ff006e</Color>
            <Color x:Key="Color.Status.Success">#00ff88</Color>
            <Color x:Key="Color.Text.Primary">#ffffffff</Color>
            <Color x:Key="Color.Text.Secondary">#d4d7f0</Color>
            <Color x:Key="Color.Text.Tertiary">#8b92c1</Color>
            <Color x:Key="Color.Text.Disabled">#4a5173</Color>

            <!-- Brushes -->
            <SolidColorBrush x:Key="Brush.Background.Deep" Color="{StaticResource Color.Background.Deep}"/>
            <SolidColorBrush x:Key="Brush.Background.Primary" Color="{StaticResource Color.Background.Primary}"/>
            <SolidColorBrush x:Key="Brush.Background.Secondary" Color="{StaticResource Color.Background.Secondary}"/>
            <SolidColorBrush x:Key="Brush.Background.Overlay" Color="{StaticResource Color.Background.Overlay}"/>
            <SolidColorBrush x:Key="Brush.Background.Card" Color="{StaticResource Color.Background.Card}"/>
            <SolidColorBrush x:Key="Brush.Background.Input" Color="{StaticResource Color.Background.Input}"/>
            <SolidColorBrush x:Key="Brush.Border.Card" Color="{StaticResource Color.Border.Card}"/>
            <SolidColorBrush x:Key="Brush.Border.Subtle" Color="{StaticResource Color.Border.Subtle}"/>
            <SolidColorBrush x:Key="Brush.Border.Highlight" Color="{StaticResource Color.Border.Highlight}"/>
            <SolidColorBrush x:Key="Brush.Accent.Purple" Color="{StaticResource Color.Accent.Purple}"/>
            <SolidColorBrush x:Key="Brush.Accent.Cyan" Color="{StaticResource Color.Accent.Cyan}"/>
            <SolidColorBrush x:Key="Brush.Accent.Pink" Color="{StaticResource Color.Accent.Pink}"/>
            <SolidColorBrush x:Key="Brush.Status.Success" Color="{StaticResource Color.Status.Success}"/>
            <SolidColorBrush x:Key="Brush.Text.Primary" Color="{StaticResource Color.Text.Primary}"/>
            <SolidColorBrush x:Key="Brush.Text.Secondary" Color="{StaticResource Color.Text.Secondary}"/>
            <SolidColorBrush x:Key="Brush.Text.Tertiary" Color="{StaticResource Color.Text.Tertiary}"/>
            <SolidColorBrush x:Key="Brush.Text.Disabled" Color="{StaticResource Color.Text.Disabled}"/>

            <!-- Gradients / glows -->
            <RadialGradientBrush x:Key="Brush.Glass.Glow"
                                 Center="0.5,0.1"
                                 RadiusX="0.9"
                                 RadiusY="0.9">
                <GradientStop Color="#2fa78bfa" Offset="0"/>
                <GradientStop Color="Transparent" Offset="1"/>
            </RadialGradientBrush>
            <RadialGradientBrush x:Key="Brush.Glass.CyanGlow"
                                 Center="0.5,0.15"
                                 RadiusX="0.9"
                                 RadiusY="0.9">
                <GradientStop Color="#2600d4ff" Offset="0"/>
                <GradientStop Color="Transparent" Offset="1"/>
            </RadialGradientBrush>
            <LinearGradientBrush x:Key="Brush.Button.Purple"
                                 StartPoint="0,0"
                                 EndPoint="1,1">
                <GradientStop Color="#a78bfa" Offset="0"/>
                <GradientStop Color="#7b68ee" Offset="1"/>
            </LinearGradientBrush>
            <LinearGradientBrush x:Key="Brush.Navigation.Background"
                                 StartPoint="0,0"
                                 EndPoint="0,1">
                <GradientStop Color="#151a31" Offset="0"/>
                <GradientStop Color="#101427" Offset="1"/>
            </LinearGradientBrush>

            <!-- Converters -->
            <converters:BooleanToHorizontalAlignmentConverter x:Key="BooleanToHorizontalAlignmentConverter"/>
            <converters:BooleanToGridColumnConverter x:Key="BooleanToGridColumnConverter"/>
            <converters:BooleanToCornerRadiusConverter x:Key="BooleanToCornerRadiusConverter"
                                                       TrueValue="20,20,8,20"
                                                       FalseValue="20,20,20,8"/>
            <converters:BooleanNegationConverter x:Key="BooleanNegationConverter"/>
            <converters:NullToBooleanConverter x:Key="NullToBooleanConverter"/>
            <converters:BooleanToBrushConverter x:Key="ChatMessageForegroundConverter"
                                                TrueBrush="White"
                                                FalseBrush="{StaticResource Brush.Text.Secondary}"/>

            <!-- Spacing / radii -->
            <Thickness x:Key="Spacing.PagePadding">32</Thickness>
            <Thickness x:Key="Spacing.SectionPadding">28</Thickness>
            <Thickness x:Key="Spacing.CardPadding">24</Thickness>
            <CornerRadius x:Key="CornerRadius.Card">24</CornerRadius>
            <CornerRadius x:Key="CornerRadius.Glass">28</CornerRadius>
        </ResourceDictionary>
    </Application.Resources>

    <Application.Styles>
        <semi:SemiTheme Locale="en-US" ThemeVariant="Dark"/>
        <usemi:SemiTheme Locale="en-US" ThemeVariant="Dark"/>
        <FluentTheme Mode="Dark"/>

        <Style Selector="TextBlock">
            <Setter Property="FontFamily" Value="Inter"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text.Secondary}"/>
        </Style>
        <Style Selector="TextBlock.heading">
            <Setter Property="Foreground" Value="{StaticResource Brush.Text.Primary}"/>
            <Setter Property="FontWeight" Value="300"/>
        </Style>
        <Style Selector="TextBlock.subtle">
            <Setter Property="Foreground" Value="{StaticResource Brush.Text.Tertiary}"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <Style Selector="Button">
            <Setter Property="FontFamily" Value="Inter"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="500"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border.Card}"/>
            <Setter Property="BorderThickness" Value="1.5"/>
            <Setter Property="Background" Value="#331e2139"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text.Primary}"/>
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="Padding" Value="18,12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Transitions">
                <Setter.Value>
                    <Transitions>
                        <DoubleTransition Property="Opacity" Duration="0:0:0.15"/>
                        <DoubleTransition Property="RenderTransform.(ScaleTransform.ScaleX)" Duration="0:0:0.15"/>
                        <DoubleTransition Property="RenderTransform.(ScaleTransform.ScaleY)" Duration="0:0:0.15"/>
                    </Transitions>
                </Setter.Value>
            </Setter>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Setter.Value>
            </Setter>
        </Style>
        <Style Selector="Button:pointerover">
            <Setter Property="Opacity" Value="0.95"/>
            <Setter Property="RenderTransform.(ScaleTransform.ScaleX)" Value="1.02"/>
            <Setter Property="RenderTransform.(ScaleTransform.ScaleY)" Value="1.02"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border.Highlight}"/>
        </Style>
        <Style Selector="Button:pressed">
            <Setter Property="RenderTransform.(ScaleTransform.ScaleX)" Value="0.98"/>
            <Setter Property="RenderTransform.(ScaleTransform.ScaleY)" Value="0.98"/>
            <Setter Property="Opacity" Value="0.9"/>
        </Style>
        <Style Selector="Button.accent">
            <Setter Property="Background" Value="{StaticResource Brush.Button.Purple}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border.Highlight}"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <Style Selector="Button.outline">
            <Setter Property="Background" Value="#191e2e"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Accent.Purple}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text.Secondary}"/>
        </Style>
        <Style Selector="Button.ghost">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="#445069"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text.Tertiary}"/>
        </Style>

        <Style Selector="ToggleButton">
            <Setter Property="FontFamily" Value="Inter"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="14,8"/>
            <Setter Property="CornerRadius" Value="14"/>
            <Setter Property="Background" Value="#221f36"/>
            <Setter Property="BorderBrush" Value="#384464"/>
            <Setter Property="BorderThickness" Value="1.2"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text.Secondary}"/>
        </Style>
        <Style Selector="ToggleButton:checked">
            <Setter Property="Background" Value="#331e2139"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border.Highlight}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text.Primary}"/>
        </Style>
        <Style Selector="ToggleButton.accent">
            <Setter Property="Background" Value="{StaticResource Brush.Button.Purple}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border.Highlight}"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <Style Selector="ToggleButton.outline">
            <Setter Property="Background" Value="#191e2e"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Accent.Cyan}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text.Secondary}"/>
        </Style>
        <Style Selector="ToggleButton.ghost">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="#34405e"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text.Tertiary}"/>
        </Style>

        <Style Selector="TextBox">
            <Setter Property="FontFamily" Value="Inter"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text.Secondary}"/>
            <Setter Property="Background" Value="{StaticResource Brush.Background.Input}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border.Subtle}"/>
            <Setter Property="BorderThickness" Value="1.5"/>
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="Padding" Value="16,12"/>
        </Style>
        <Style Selector="TextBox:pointerover">
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border.Highlight}"/>
        </Style>
        <Style Selector="TextBox:focus">
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Accent.Purple}"/>
        </Style>

        <Style Selector="ScrollViewer">
            <Setter Property="HorizontalScrollBarVisibility" Value="Disabled"/>
            <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
        </Style>
        <Style Selector="ScrollBar">
            <Setter Property="Foreground" Value="#335066"/>
            <Setter Property="Background" Value="#141a2d"/>
        </Style>
    </Application.Styles>
</Application>
